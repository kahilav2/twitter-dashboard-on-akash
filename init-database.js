const db = require('better-sqlite3')('./api/database.db', {});

const dump = {"rows":[{"id":1,"twitter_id":"Bitcoin","followers_count":3696817,"date":"2021-11-12 03:54:31"},{"id":2,"twitter_id":"ethereum","followers_count":1824339,"date":"2021-11-12 03:54:32"},{"id":3,"twitter_id":"solana","followers_count":914288,"date":"2021-11-12 03:54:32"},{"id":4,"twitter_id":"Cardano","followers_count":1082310,"date":"2021-11-12 03:54:32"},{"id":5,"twitter_id":"dogecoin","followers_count":2475211,"date":"2021-11-12 03:54:32"},{"id":6,"twitter_id":"Shibtoken","followers_count":1942383,"date":"2021-11-12 03:54:32"},{"id":7,"twitter_id":"akashnet_","followers_count":55966,"date":"2021-11-12 03:54:33"},{"id":8,"twitter_id":"CelsiusNetwork","followers_count":193791,"date":"2021-11-12 03:54:33"},{"id":9,"twitter_id":"BlockFi","followers_count":140730,"date":"2021-11-12 03:54:34"},{"id":10,"twitter_id":"ArweaveTeam","followers_count":43561,"date":"2021-11-12 03:54:34"},{"id":11,"twitter_id":"Filecoin","followers_count":118979,"date":"2021-11-12 03:54:34"},{"id":12,"twitter_id":"avalancheavax","followers_count":393514,"date":"2021-11-12 03:54:34"},{"id":13,"twitter_id":"terra_money","followers_count":204101,"date":"2021-11-12 03:54:34"},{"id":14,"twitter_id":"streamr","followers_count":71514,"date":"2021-11-12 03:54:34"},{"id":15,"twitter_id":"origin_trail","followers_count":41920,"date":"2021-11-12 03:54:35"},{"id":16,"twitter_id":"vechainofficial","followers_count":490400,"date":"2021-11-12 03:54:35"},{"id":17,"twitter_id":"MNWSupplyChain","followers_count":19697,"date":"2021-11-12 03:54:35"},{"id":18,"twitter_id":"Bitcoin","followers_count":3706771,"date":"2021-11-13 03:54:35"},{"id":19,"twitter_id":"ethereum","followers_count":1829096,"date":"2021-11-13 03:54:36"},{"id":20,"twitter_id":"solana","followers_count":920962,"date":"2021-11-13 03:54:36"},{"id":21,"twitter_id":"Cardano","followers_count":1084799,"date":"2021-11-13 03:54:36"},{"id":22,"twitter_id":"dogecoin","followers_count":2481844,"date":"2021-11-13 03:54:36"},{"id":23,"twitter_id":"Shibtoken","followers_count":1955675,"date":"2021-11-13 03:54:36"},{"id":24,"twitter_id":"akashnet_","followers_count":56083,"date":"2021-11-13 03:54:37"},{"id":25,"twitter_id":"CelsiusNetwork","followers_count":194162,"date":"2021-11-13 03:54:37"},{"id":26,"twitter_id":"BlockFi","followers_count":140900,"date":"2021-11-13 03:54:37"},{"id":27,"twitter_id":"ArweaveTeam","followers_count":43816,"date":"2021-11-13 03:54:37"},{"id":28,"twitter_id":"Filecoin","followers_count":119295,"date":"2021-11-13 03:54:37"},{"id":29,"twitter_id":"avalancheavax","followers_count":394607,"date":"2021-11-13 03:54:37"},{"id":30,"twitter_id":"terra_money","followers_count":205620,"date":"2021-11-13 03:54:38"},{"id":31,"twitter_id":"streamr","followers_count":71568,"date":"2021-11-13 03:54:38"},{"id":32,"twitter_id":"origin_trail","followers_count":41995,"date":"2021-11-13 03:54:38"},{"id":33,"twitter_id":"vechainofficial","followers_count":491620,"date":"2021-11-13 03:54:38"},{"id":34,"twitter_id":"MNWSupplyChain","followers_count":19937,"date":"2021-11-13 03:54:38"},{"id":35,"twitter_id":"Bitcoin","followers_count":3715664,"date":"2021-11-14 03:54:39"},{"id":36,"twitter_id":"ethereum","followers_count":1833274,"date":"2021-11-14 03:54:39"},{"id":37,"twitter_id":"solana","followers_count":927178,"date":"2021-11-14 03:54:39"},{"id":38,"twitter_id":"Cardano","followers_count":1087362,"date":"2021-11-14 03:54:39"},{"id":39,"twitter_id":"dogecoin","followers_count":2488656,"date":"2021-11-14 03:54:39"},{"id":40,"twitter_id":"Shibtoken","followers_count":1968311,"date":"2021-11-14 03:54:39"},{"id":41,"twitter_id":"akashnet_","followers_count":56176,"date":"2021-11-14 03:54:40"},{"id":42,"twitter_id":"CelsiusNetwork","followers_count":194462,"date":"2021-11-14 03:54:40"},{"id":43,"twitter_id":"BlockFi","followers_count":141007,"date":"2021-11-14 03:54:40"},{"id":44,"twitter_id":"ArweaveTeam","followers_count":44051,"date":"2021-11-14 03:54:40"},{"id":45,"twitter_id":"Filecoin","followers_count":119512,"date":"2021-11-14 03:54:40"},{"id":46,"twitter_id":"avalancheavax","followers_count":396229,"date":"2021-11-14 03:54:40"},{"id":47,"twitter_id":"terra_money","followers_count":206870,"date":"2021-11-14 03:54:41"},{"id":48,"twitter_id":"streamr","followers_count":71591,"date":"2021-11-14 03:54:41"},{"id":49,"twitter_id":"origin_trail","followers_count":42022,"date":"2021-11-14 03:54:41"},{"id":50,"twitter_id":"vechainofficial","followers_count":492935,"date":"2021-11-14 03:54:41"},{"id":51,"twitter_id":"MNWSupplyChain","followers_count":20068,"date":"2021-11-14 03:54:41"},{"id":52,"twitter_id":"Bitcoin","followers_count":3725437,"date":"2021-11-15 03:54:42"},{"id":53,"twitter_id":"ethereum","followers_count":1837946,"date":"2021-11-15 03:54:42"},{"id":54,"twitter_id":"solana","followers_count":933357,"date":"2021-11-15 03:54:42"},{"id":55,"twitter_id":"Cardano","followers_count":1090533,"date":"2021-11-15 03:54:42"},{"id":56,"twitter_id":"dogecoin","followers_count":2496126,"date":"2021-11-15 03:54:42"},{"id":57,"twitter_id":"Shibtoken","followers_count":1981707,"date":"2021-11-15 03:54:43"},{"id":58,"twitter_id":"akashnet_","followers_count":56319,"date":"2021-11-15 03:54:43"},{"id":59,"twitter_id":"CelsiusNetwork","followers_count":194784,"date":"2021-11-15 03:54:43"},{"id":60,"twitter_id":"BlockFi","followers_count":141106,"date":"2021-11-15 03:54:43"},{"id":61,"twitter_id":"ArweaveTeam","followers_count":44293,"date":"2021-11-15 03:54:43"},{"id":62,"twitter_id":"Filecoin","followers_count":119755,"date":"2021-11-15 03:54:44"},{"id":63,"twitter_id":"avalancheavax","followers_count":398087,"date":"2021-11-15 03:54:44"},{"id":64,"twitter_id":"terra_money","followers_count":207958,"date":"2021-11-15 03:54:44"},{"id":65,"twitter_id":"streamr","followers_count":71614,"date":"2021-11-15 03:54:44"},{"id":66,"twitter_id":"origin_trail","followers_count":42037,"date":"2021-11-15 03:54:44"},{"id":67,"twitter_id":"vechainofficial","followers_count":494362,"date":"2021-11-15 03:54:44"},{"id":68,"twitter_id":"MNWSupplyChain","followers_count":20143,"date":"2021-11-15 03:54:45"}]}

db.exec(`
CREATE TABLE data_points (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
	twitter_id TEXT,
  followers_count INTEGER NOT NULL,
	date TEXT NOT NULL
);
`);

const query = db.prepare('INSERT INTO data_points(twitter_id, followers_count, date) VALUES (?, ?, ?)');
dump.rows.forEach((row) => {
  query.run(row.twitter_id, row.followers_count, row.date);
});